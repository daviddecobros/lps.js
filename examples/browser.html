<html>
  <head>
    <title>LPS Browser Mode Demonstration</title>
    <script type="text/javascript" src="../dist/lps.bundle.js"></script>
  </head>
  <body>
    <p>
      Output of the execution will be shown below. Errors would be reported in the developer tools / console of the browser.
    </p>
    <div id="outputArea">
      
    </div>
    <script>
      var outputArea = document.getElementById('outputArea');
      
      LPS.loadString('maxTime(10).')
        .then((engine) => {
          engine.on('error', (err) => {
            outputArea.innerHTML += '<p>Error: ' + err + '</p>';
          });
          engine.on('postCycle', () => {
            console.log('TIME ' + engine.getCurrentTime());
            outputArea.innerHTML += '<p>TIME ' + engine.getCurrentTime() + '</p>';
          });
          engine.on('done', () => {
            console.log('Execution Done!');
            outputArea.innerHTML += '<p>Execution Done!</p>';
          });
          engine.run();
        });
    </script>
  </body>
</html>
